import random  //Importam functia random pentru a genera numere aleatoare zarului
import tkinter as tk  
from tkinter import messagebox
def aruncare_zaruri():   //functia pentru zaruri
    return [random.randint(1, 6) for _ in range(6)]   //rezultatul functie pentru zaruri zu rezultate aleatoare

def calculeaza_punctaj(zaruri, formatie):   //functie pentru calcularea punctajului
    if formatie in ["1", "2", "3", "4", "5", "6"]:   // verificam continutul formatiei
        return sum(d for d in zaruri if d == int(formatie))  // se returneaza suma 
    elif formatie == "mici":   // verificam daca este o formatie de numere mici
        return sum(d for d in zaruri if d <= 3)
    elif formatie == "mari":   // verificam daca este o formatie de numere mari
        return sum(d for d in zaruri if d >= 4)  
    elif formatie == "pare":    //verificam daca este o formatie de numere pare
        return sum(d for d in zaruri if d % 2 == 0)
    elif formatie == "impare":   //verificam daca este o formatie de numere impare
        return sum(d for d in zaruri if d % 2 != 0)
    elif formatie == "duble":   //verificam daca este o formatie de numere duble
        for i in range(1, 7):    //parcurgem o instructiune repetitiva for 
            if zaruri.count(i) >= 2:   // 
                return 3 * i
        return 0
    elif formatie == "triple":   // verificam daca formatia este de triple
        for i in range(1, 7):   //parcurgem o instructiune repetitiva for
            if zaruri.count(i) >= 3:   
                return 2 * 3 * i
        return 0
    elif formatie == "suita":
        if sorted(zaruri) == [1, 2, 3, 4, 5, 6]:
            return 20
        return 0
    elif formatie == "care":
        if zaruri.count(6) >= 4:
            return sum(zaruri)
        return 0
    elif formatie == "cameron":
        if zaruri == [4, 6, 4, 6, 4, 6]:
            return 36
        return 0

def main():   //definim functia main
    nume_jucator = input("Introduceți numele jucatorului: ")   //citim de la tastatura numele jucatorului
    formatii_disponibile = ["1", "2", "3", "4", "5", "6", "mici", "mari", "pare", "impare", "duble", "triple", "suita", "care", "cameron"]   //formatiile posibile 
    formatii_realizate = []  // declaram o lista cu formatiile realizate goala initial
    punctaj_total = 0   // declaram punctajul totatl

    for _ in range(15):   //parcurgem intr-un for pana la 14
        input("Apasați ENTER pentru a arunca zarurile...")  //Prin apasarea tastei enter zarurile vor fi aruncate
        zaruri = aruncare_zaruri()  // se apeleaza functia de aruncare a zarurilor
        print("Zarurile aruncate sunt:", zaruri)   // se afiseaza zarurile
        formatie_aleasa = input("Alegeți o formație disponibila sau renunțați (scrieți 'renunță'): ").lower()  // declaram formatia dorita sau putem renunta la joc
        if formatie_aleasa == "renunță":   // daca formatia aleasa este "renunta" atunci jocul se va termina
            print("Ați renunțat la această formație.")  // In acest caz se afiseaza in consola mesajul din interiorul printului
            punctaj_total -= 3
        elif formatie_aleasa in formatii_disponibile:
            punctaj_formatie = calculeaza_punctaj(zaruri, formatie_aleasa)
            print(f"Punctajul pentru formația {formatie_aleasa} este: {punctaj_formatie}")
            punctaj_total += punctaj_formatie
            formatii_realizate.append(formatie_aleasa)
            formatii_disponibile.remove(formatie_aleasa)
        else:
            print("Formație invalidă!")
    if len(formatii_realizate) == 15:
        punctaj_total += 20
        print("Felicitări, ați completat toate formațiile și ați primit un bonus de 20 de puncte!")

    print("Jocul s-a încheiat. Punctaj total:", punctaj_total)

def arunca_zaruri_si_calculeaza():
    global punctaj_total
    zaruri = aruncare_zaruri()
    messagebox.showinfo("Zaruri aruncate", f"Zarurile aruncate sunt: {zaruri}")
    formatie_aleasa = input_box.get().lower()
    if formatie_aleasa == "renunță":
        messagebox.showinfo("Renunțare", "Ați renunțat la această formație.")
        punctaj_total -= 3
    elif formatie_aleasa in formatii_disponibile:
        punctaj_formatie = calculeaza_punctaj(zaruri, formatie_aleasa)
        messagebox.showinfo("Punctaj", f"Punctajul pentru formația {formatie_aleasa} este: {punctaj_formatie}")
        punctaj_total += punctaj_formatie
        formatii_realizate.append(formatie_aleasa)
        formatii_disponibile.remove(formatie_aleasa)
    else:
        messagebox.showinfo("Formație invalidă", "Formație invalidă!")
    input_box.delete(0, tk.END)
    if len(formatii_realizate) == 15:
        punctaj_total += 20
        messagebox.showinfo("Felicitări!", "Ați completat toate formațiile și ați primit un bonus de 20 de puncte!")
    punctaj_label.config(text=f"Punctaj total: {punctaj_total}")

def start_game():
    global punctaj_total
    global formatii_realizate
    global formatii_disponibile
    punctaj_total = 0
    formatii_realizate = []
    formatii_disponibile = ["1", "2", "3", "4", "5", "6", "mici", "mari", "pare", "impare", "duble", "triple", "suită", "caré", "cameron"]

    root = tk.Tk()
    root.title("Joc cu zaruri")

    input_frame = tk.Frame(root)
    input_frame.pack(pady=10)

    input_label = tk.Label(input_frame, text="Alegeți o formă disponibilă sau renunțați:")
    input_label.pack(side=tk.LEFT)

    global input_box
    input_box = tk.Entry(input_frame)
    input_box.pack(side=tk.LEFT)

    arunca_button = tk.Button(root, text="Aruncă zarurile și calculează", command=arunca_zaruri_si_calculeaza)
    arunca_button.pack(pady=5)

    global punctaj_label
    punctaj_label = tk.Label(root, text=f"Punctaj total: {punctaj_total}")
    punctaj_label.pack()
    root.mainloop()

if __name__ == "__main__":
    start_game()
